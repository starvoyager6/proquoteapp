<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Programming Quotes</title>
  <style>
    :root {
      --bg: #0b1324;        /* deep navy background */
      --panel: #111827;     /* card background */
      --text: #f1f5f9;      /* light text */
      --muted: #94a3b8;     /* muted text */
      --accent: #10b981;    /* emerald-500 */
      --accent-2: #14b8a6;  /* teal-500 */
      --border: #334155;    /* slate-700 */
    }

    html, body {
      height: 100%;
      margin: 0;
      background: radial-gradient(1200px 800px at 30% 20%, #1f2937 0%, var(--bg) 60%, #09101f 100%);
      color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }

    .app {
      min-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 4vh 4vw;
    }

    .card {
      width: 75vw;
      max-width: 960px;
      background: var(--panel);          /* safe solid color */
      border: 1px solid var(--border);   /* safe solid border */
      border-radius: 0;                   /* square corners */
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.35);
      padding: clamp(16px, 4vw, 36px);
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 14px;
      margin-bottom: clamp(18px, 3vw, 28px);
      flex-wrap: wrap;
    }

    h1 {
      font-size: clamp(18px, 4vw, 28px);
      margin: 0;
      letter-spacing: 0.2px;
      font-weight: 700;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .actions {
      display: flex;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
      width: 100%;
    }

    button {
      appearance: none;
      border: none;
      cursor: pointer;
      padding: 12px 18px;
      border-radius: 0; /* square corners */
      font-size: clamp(14px, 2.6vw, 16px);
      font-weight: 600;
      color: white;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 10px 30px rgba(16, 185, 129, 0.35);
      transition: transform 160ms ease, filter 160ms ease, box-shadow 160ms ease;
    }
    button:hover {
      transform: translateY(-1px);
      filter: brightness(1.08);
      box-shadow: 0 12px 36px rgba(20, 184, 166, 0.4);
    }
    button:active {
      transform: translateY(0);
      filter: brightness(0.98);
    }
    button[disabled] {
      opacity: 0.7;
      cursor: not-allowed;
      box-shadow: none;
    }

    .quote {
      width: 100%;
      margin-top: clamp(12px, 2.5vw, 20px);
      padding: clamp(16px, 3vw, 22px);
      border-radius: 0; /* square corners */
      background: #0c1628;                 /* safe solid, higher contrast */
      border: 1px dashed var(--border);
      line-height: 1.6;
      font-size: clamp(16px, 3.2vw, 20px);
      color: var(--text);
      word-wrap: break-word;
      overflow-wrap: anywhere;
    }

    .muted {
      color: var(--muted);
      font-size: clamp(12px, 2.4vw, 14px);
      margin-top: 8px;
      text-align: center;
    }

    footer {
      margin-top: 16px;
      font-size: clamp(12px, 2.4vw, 14px);
      text-align: center;
      color: var(--muted);
    }
  </style>
</head>
<body>
  <main class="app">
    <section class="card" role="region" aria-label="Quote generator">
      <div class="header">
        <h1>Programming Quote</h1>
      </div>

      <div class="actions">
        <button id="fetchBtn" type="button" aria-label="Get a new quote">Get a quote</button>
      </div>

      <blockquote id="quote" class="quote" cite="https://quote.cs260.click">
        Tap “Get a quote” to fetch something uplifting.
      </blockquote>
      <p id="author" class="muted">—</p>

      <p id="status" class="muted" aria-live="polite"></p>

      <footer>
        Powered by Microsoft Copilot — Subscribe today for more inspiration!
      </footer>
    </section>
  </main>

  <script>
    const btn = document.getElementById('fetchBtn');
    const quoteEl = document.getElementById('quote');
    const authorEl = document.getElementById('author');
    const statusEl = document.getElementById('status');

    async function fetchQuote() {
      btn.disabled = true;
      statusEl.textContent = "Fetching…";
      try {
        const res = await fetch('https://quote.cs260.click', { cache: 'no-store' });
        let text = "", author = "";
        const contentType = res.headers.get('content-type') || '';
        if (contentType.includes('application/json')) {
          const data = await res.json();
          text = (data.quote || "").toString();
          author = (data.author || "").toString();
        } else {
          text = await res.text();
          author = ""; // ensure author is cleared for non-JSON
        }

        if (!res.ok) throw new Error(`Error ${res.status}: ${text}`);

        quoteEl.textContent = text.trim() || "No quote received.";
        authorEl.textContent = author ? `— ${author}` : "";
        statusEl.textContent = "";
      } catch (err) {
        console.error(err);
        statusEl.textContent = "Unable to fetch a quote right now.";
        authorEl.textContent = "";
      } finally {
        btn.disabled = false;
      }
    }

    // Fetch once on load so users see immediate content
    fetchQuote().catch(() => {});
    btn.addEventListener('click', fetchQuote);
  </script>
</body>
</html>
